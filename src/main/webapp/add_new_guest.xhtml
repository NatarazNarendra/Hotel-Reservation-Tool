<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
        >
<ui:composition template="/WEB-INF/template-bootstrap.html">
    <ui:define name="page_header">
        #{msgs.main_guestbook}
    </ui:define>

    <ui:define name="content">

        <form jsf:id="welcomeForm">
            <div class="form-group">
                <label for="name">#{msgs.guest_name}</label>
                <input type="text"
                       jsf:id="name"
                       jsf:value="#{addNewGuestBean.guest.name}"
                       jsf:required="true"
                       jsf:requiredMessage="#{msgs.guest_name_is_required}"
                       placeholder="#{msgs.enter_guest_name}"
                       class="form-control #{component.valid ? '' : 'input-error'}"
                       maxlength="20"
                       jsf:validatorMessage="#{msgs.provide_valid_name}">
                    <f:validateRegex pattern="^[A-Za-z .\\-]*$"/>
                    <f:validateLength minimum="5"/>
                    <f:ajax render="@this :messagesPanel"/>
                </input>
            </div>
            <div class="form-group">
                <label for="email">#{msgs.email}</label>
                <input jsf:id="email"
                       id="email"
                       jsf:styleClass="#{component.valid ? '' : 'input-error'}"
                       class="form-control "
                       jsf:value="#{addNewGuestBean.guest.email}"
                       type="email"
                       placeholder="#{msgs.spam_location}"
                       jsf:validatorMessage="#{msgs.provide_valid_email}">
                    <f:validateRegex pattern="^[A-Za-z 0-9.@\\-_]*$"/>
                    <f:ajax render="@this :messagesPanel"/>
                </input>
            </div>

            <div class="btn-toolbar">
                <input jsf:id="btn_discard_changes"
                        type="submit"
                       jsf:action="/guestbook.xhtml"
                       class="btn btn-sm"
                        jsf:immediate="true"
                       value="#{msgs.btn_discard_changes}">
                    <f:ajax/>
                </input>
                <input type="submit"
                       jsf:id="save_guest_info"
                       value="#{msgs.save_guest_info}"
                       class="btn btn-sm btn-primary"
                       jsf:actionListener="#{addNewGuestBean.saveGuest}"
                       jsf:action="/guestbook.xhtml">
                    <f:ajax/>
                </input>
            </div>
        </form>
    </ui:define>
</ui:composition>
</html>



